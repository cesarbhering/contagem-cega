(window.webpackJsonp=window.webpackJsonp||[]).push([[7,4],{416:function(e,t,r){var content=r(421);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(133).default)("5768b005",content,!0,{sourceMap:!1})},420:function(e,t,r){"use strict";r(416)},421:function(e,t,r){var n=r(132)(!1);n.push([e.i,"h1[data-v-6c1b31be]{text-align:center;margin-top:20px}",""]),e.exports=n},422:function(e,t,r){"use strict";r.r(t);var n={},o=(r(420),r(58)),component=Object(o.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",[e("h1",[this._v("Contagem Cega")])])}],!1,null,"6c1b31be",null);t.default=component.exports},434:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},435:function(e,t,r){var content=r(449);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(133).default)("631982c6",content,!0,{sourceMap:!1})},445:function(e,t,r){"use strict";var n=r(2),o=r(446).trim;n({target:"String",proto:!0,forced:r(447)("trim")},{trim:function(){return o(this)}})},446:function(e,t,r){var n=r(5),o=r(27),l=r(13),c=r(434),d=n("".replace),f="["+c+"]",m=RegExp("^"+f+f+"*"),v=RegExp(f+f+"*$"),h=function(e){return function(t){var r=l(o(t));return 1&e&&(r=d(r,m,"")),2&e&&(r=d(r,v,"")),r}};e.exports={start:h(1),end:h(2),trim:h(3)}},447:function(e,t,r){var n=r(98).PROPER,o=r(3),l=r(434);e.exports=function(e){return o((function(){return!!l[e]()||"​᠎"!=="​᠎"[e]()||n&&l[e].name!==e}))}},448:function(e,t,r){"use strict";r(435)},449:function(e,t,r){var n=r(132)(!1);n.push([e.i,".form-container[data-v-7c9b5957]{width:50%;margin:0 auto}.el-form--label-top .el-form-item__label[data-v-7c9b5957]{padding-bottom:0!important}.upload-buttons[data-v-7c9b5957]{display:flex;justify-content:center;align-items:center}.el-upload__tip[data-v-7c9b5957]{text-align:center}",""]),e.exports=n},453:function(e,t,r){"use strict";r.r(t);r(38),r(45),r(30),r(44),r(75),r(76);var n=r(24),o=(r(14),r(37),r(25),r(268),r(445),r(77));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={name:"UploadPanel",data:function(){return{trainee:{name:"",id:"",countStartTimestamp:""},constructTableValues:[],supervisorInformedCount:[],computado:!1,loading:!1,disableUpload:!0}},methods:c(c({handleOnChange:function(e,t){t.length>0?this.disableUpload=!1:this.disableUpload=!0}},Object(o.b)("products",["setTableValues","setSupervisorCount","setTraineePersonalInfo"])),{},{beforeTextUpload:function(e){var t="text/plain"===e.type,r=e.size/1024/1024<2;return t||(this.$message.error("O arquivo deve ser um arquivo de texto"),this.$nuxt.refresh()),r||(this.$message.error("O tamanho do arquivo deve ser menor que 2MB"),this.$nuxt.refresh()),t&&r},submitUpload:function(){var e=this;console.log("cheguei aqui no submit"),this.loading=!0;var t=this.$refs.upload.uploadFiles[0].raw,r=new FileReader;r.onload=function(t){t.target.result.split("\n").forEach((function(line){line.trim().match(/^\d/)&&(e.constructTableValues.push({COD:line.substring(0,11).trim(),DENOMINACAO:line.substring(11,42).trim(),COMPLEM:line.substring(42,53).trim(),UN:line.substring(53,57).trim(),"SALDO ATUAL":line.substring(117,127).trim()}),e.supervisorInformedCount.push(parseInt(line.substring(117,127).trim())))})),e.setTableValues(e.constructTableValues),e.setSupervisorCount(e.supervisorInformedCount),e.trainee.countStartTimestamp=(new Date).getTime(),e.setTraineePersonalInfo(e.trainee),e.$refs.upload.submit(),e.loading=!1,e.computado=!0,e.$router.push("/tableView")},r.readAsText(t),console.log("cheguei aqui no fim do submit")},handleTextUploadSuccess:function(e,t,r){console.log("cheguei aqui"),this.$router.push("/tableView")},handleExceed:function(e,t){this.$message.warning("Apenas 1 arquivo pode ser utilizado como gabarito, você pode excluir o arquivo inicialmente selecionado e selecionar outro")}})},f=(r(448),r(58)),component=Object(f.a)(d,(function(){var e=this,t=e._self._c;return e.computado?e._e():t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"form-container",attrs:{"element-loading-text":"Gerando Tabela..."}},[t("PageHeader"),e._v(" "),t("div",[t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.trainee,"label-width":"120px","label-position":"top"}},[t("el-form-item",{attrs:{label:"Nome",prop:"name",rules:[{required:!0,min:3,message:"Por favor, insira seu nome",trigger:"blur"}]}},[t("el-input",{model:{value:e.trainee.name,callback:function(t){e.$set(e.trainee,"name",t)},expression:"trainee.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"ID",prop:"id",rules:[{required:!0,message:"Por favor, insira seu ID",trigger:"blur"}]}},[t("el-input",{model:{value:e.trainee.id,callback:function(t){e.$set(e.trainee,"id",t)},expression:"trainee.id"}})],1)],1)],1),e._v(" "),t("div",{staticClass:"upload-buttons"},[t("el-upload",{ref:"upload",attrs:{action:"#","auto-upload":!1,limit:1,"on-exceed":e.handleExceed,"before-upload":e.beforeTextUpload,"on-success":e.handleTextUploadSuccess,"on-change":e.handleOnChange}},[t("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("\n        Selecionar Gabarito\n      ")]),e._v(" "),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success",disabled:e.disableUpload},on:{click:e.submitUpload}},[e._v("\n        Gerar Tabela\n      ")]),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n        Arquivo de texto contendo os dados do estoque\n      ")])],1)],1)],1)}),[],!1,null,"7c9b5957",null);t.default=component.exports;installComponents(component,{PageHeader:r(422).default})}}]);